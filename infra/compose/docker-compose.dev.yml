# Development tools overlay for RegattaDesk Docker Compose
# This file exposes internal service ports to the host for direct database/storage access
# Only use in development environments - not for production!
#
# Usage: docker compose -f docker-compose.yml -f docker-compose.dev.yml up
# Or with observability: docker compose -f docker-compose.yml -f docker-compose.observability.yml -f docker-compose.dev.yml up

services:
  # PostgreSQL - expose port for direct database access
  postgres:
    ports:
      - "${POSTGRES_PORT:-5432}:5432"

  # MinIO - expose ports for direct S3 API and console access
  minio:
    ports:
      - "${MINIO_API_PORT:-9000}:9000"
      - "${MINIO_CONSOLE_PORT:-9001}:9001"

  # Jaeger - expose ports for UI and OTLP receivers
  # Only active when docker-compose.observability.yml is also used
  jaeger:
    ports:
      - "${JAEGER_UI_PORT:-16686}:16686"    # Jaeger UI
      - "${JAEGER_OTLP_GRPC_PORT:-4317}:4317"  # OTLP gRPC receiver
      - "${JAEGER_OTLP_HTTP_PORT:-4318}:4318"  # OTLP HTTP receiver

  # Prometheus - expose port for direct metrics access
  # Only active when docker-compose.observability.yml is also used
  prometheus:
    ports:
      - "${PROMETHEUS_PORT:-9090}:9090"
