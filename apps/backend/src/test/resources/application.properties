# Test Configuration (overrides application.properties for tests)

# Use H2 in-memory database for tests (PostgreSQL-compatible mode)
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.transactions=enabled

# Disable dev services for tests
quarkus.datasource.devservices.enabled=false

# Flyway should run migrations in test mode
quarkus.flyway.migrate-at-start=true
# Use H2-specific migration location for tests
quarkus.flyway.locations=classpath:db/migration/h2

# Public session JWT configuration for tests
jwt.public.secret=test-secret-key-at-least-32-bytes-for-hs256-tests
