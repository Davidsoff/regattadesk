# Application Configuration
quarkus.application.name=regattadesk-backend
quarkus.application.version=0.1.0-SNAPSHOT

# HTTP Configuration
quarkus.http.port=8080
quarkus.http.host=0.0.0.0

# Health endpoints
quarkus.smallrye-health.root-path=/q/health

# OpenTelemetry Configuration
quarkus.otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT:http://localhost:4317}
quarkus.otel.traces.enabled=true
quarkus.otel.traces.sampler=parentbased_always_on
quarkus.otel.resource.attributes=service.name=${quarkus.application.name},service.version=${quarkus.application.version}

# Micrometer/Prometheus metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/q/metrics
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.jvm=true

# Container image build (Quarkus container-image Jib extension)
quarkus.container-image.builder=jib
quarkus.container-image.group=regattadesk
quarkus.container-image.name=backend
quarkus.jib.base-jvm-image=eclipse-temurin:25-jre

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USER:regattadesk}
quarkus.datasource.password=${DB_PASSWORD:regattadesk}
quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/regattadesk}
quarkus.datasource.jdbc.transactions=enabled

# Flyway Migration Configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.baseline-version=0
quarkus.flyway.baseline-description=Initial baseline

# Public Anonymous Session JWT Configuration
jwt.public.secret=${JWT_PUBLIC_SECRET}
jwt.public.kid=${JWT_PUBLIC_KID:v1-2026-02}
jwt.public.ttl-seconds=432000
jwt.public.refresh-window-percent=20
